<!-- <div class="row">
  <div class="col">
    @if (user?.credentials?.zonas_y_sucursales?.zonas?.agregar) {
    <mat-form-field appearance="outline" class="div-form">
      <mat-label>Nueva zona</mat-label>
      <input matInput placeholder="Nueva zona" [(ngModel)]="name" autocomplete="off">
      <mat-icon class="pointer" (click)="crearZona()" color="warn" matSuffix>add_circle</mat-icon>
    </mat-form-field>
    }
  </div>
</div>
@if (user?.credentials?.zonas_y_sucursales?.zonas?.ver_zonas) {
<div class="row">
  <div class="col">
    <br>
    @if (zonas) {
    <div>
      <mat-list>
        <mat-list-item>
          <mat-form-field class="filter-search" appearance="outline">
            <mat-icon matPrefix>search</mat-icon>
            <input matInput placeholder="Filtrar por nombre..." autocomplete="off" (keyup)="updateFilters()"
              [(ngModel)]="filter_name">
            </mat-form-field>
        </mat-list-item><br>
        @for (z of rows; track z) {
        <mat-list-item class="mb-3">
          <mat-card class="w-100">
            @if (!z.isEdit) {
            <p class="pointer" (click)="editName(z)"> {{z.name}} </p>
            } @else {
            <mat-form-field appearance="outline" class="w-100">
              <input matInput placeholder="Nombre de la zona"
                [disabled]="!user?.credentials?.zonas_y_sucursales?.zonas?.editar" [(ngModel)]="z.name">
              <mat-icon class="pointer" (click)="submitChange(z)" matSuffix>done</mat-icon>
            </mat-form-field>
            }
          </mat-card>
        </mat-list-item><br>
        }
      </mat-list>
    </div>
    } @else {
    <ngx-spinner type="pacman" size="medium"></ngx-spinner>
    }
  </div>
</div>
} -->

<mat-card class="mb-3 p-2">
  <div class="col">
    @if (user?.credentials?.zonas_y_sucursales?.zonas?.agregar) {
    <mat-form-field appearance="outline" class="div-form">
      <mat-label>Nueva zona</mat-label>
      <input matInput placeholder="Nueva zona" [(ngModel)]="name" autocomplete="off">
      <mat-icon class="pointer" (click)="crearZona()" color="warn" matSuffix>add_circle</mat-icon>
    </mat-form-field>
    }
  </div>
</mat-card>

@if (user?.credentials?.zonas_y_sucursales?.zonas?.ver_zonas) {
<div class="row">
  <div class="col">
    <br>
    @if (zonas) {

    <!-- Filtro -->
    <mat-card class="mb-3 p-2">
      <mat-form-field class="filter-search w-100" appearance="outline">
        <mat-icon matPrefix>search</mat-icon>
        <input matInput 
               placeholder="Filtrar por nombre..."
               autocomplete="off"
               (keyup)="updateFilters()"
               [(ngModel)]="filter_name">
      </mat-form-field>
    </mat-card>

    <!-- Cards por zona -->
    @for (z of rows; track z) {
      <mat-card class="mb-3 w-100 p-3">
        @if (!z.isEdit) {

          <p class="pointer m-0" (click)="editName(z)">
            {{ z.name }}
          </p>

        } @else {

          <mat-form-field appearance="outline" class="w-100">
            <input matInput
                   placeholder="Nombre de la zona"
                   [disabled]="!user?.credentials?.zonas_y_sucursales?.zonas?.editar"
                   [(ngModel)]="z.name">
            <mat-icon class="pointer" (click)="submitChange(z)" matSuffix>done</mat-icon>
          </mat-form-field>

        }
      </mat-card>
    }

    } @else {
    <ngx-spinner type="pacman" size="medium"></ngx-spinner>
    }
  </div>
</div>
}
